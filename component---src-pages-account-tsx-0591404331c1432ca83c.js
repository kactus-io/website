(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{vCyp:function(e,t,n){"use strict";n.r(t);var a=n("wx14"),l=n("q1tI"),i=n.n(l),r=n("Wbzz"),c=n("9Dj+"),o=n("H8eV"),s=n("BNza"),u=n("mtTv"),b=n("0cdV"),O=n("86Pe"),j=n("OMj+"),m=(n("oeLg"),n("OohN"),n("qKvR")),p=function(e){var t=e.user,n=e.setBanner,a=e.setUser,l=i.a.useState("enterprise"),r=l[0],c=l[1],o=i.a.useState("month"),s=o[0],u=o[1];return Object(m.a)("div",{className:"centered-section"},Object(m.a)("h3",null,"Or subscribe individually"),Object(m.a)("div",{className:"features"},Object(m.a)("div",{className:"premium"===r?"plan selected":"plan",onClick:function(){return c("premium")}},Object(m.a)("h2",null,"Premium"),Object(m.a)("h3",null,"$4.99"),Object(m.a)("h4",null,"per user per month"),Object(m.a)("ul",null,Object(m.a)("li",null,"Unlimited public repositories"),Object(m.a)("li",null,"No locked-in commitment: you can always generate the sketch files to switch back"),Object(m.a)("li",null,Object(m.a)("strong",null,"Unlimited private repositories")))),Object(m.a)("div",{className:"enterprise"===r?"plan selected":"plan",onClick:function(){return c("enterprise")}},Object(m.a)("h2",null,"Enterprise"),Object(m.a)("h3",null,"$11.99"),Object(m.a)("h4",null,"per user per month"),Object(m.a)("ul",null,Object(m.a)("li",null,"Unlimited public repositories"),Object(m.a)("li",null,"No locked-in commitment: you can always generate the sketch files to switch back"),Object(m.a)("li",null,Object(m.a)("strong",null,"Unlimited private repositories")),Object(m.a)("li",null,Object(m.a)("strong",null,"Support single sign-on and on-premises deployment")),Object(m.a)("li",null,Object(m.a)("strong",null,"Support any git server (BitBucket, Gitlab, self-hosted, etc.)"))))),Object(m.a)("div",{className:"billing-duration-wrapper"},Object(m.a)("p",null,Object(m.a)("label",{htmlFor:"monthly-billing"},Object(m.a)("input",{type:"radio",value:"month",id:"monthly-billing",name:"duration-billing",checked:"month"===s,onChange:function(e){return u("month"===e.currentTarget.value?"month":"year")}}),"Monthly billing",Object(m.a)("span",{className:"billing-quote"},"enterprise"===r?"$11.99 / month":"$4.99 / month"))),Object(m.a)("p",null,Object(m.a)("label",{htmlFor:"yearly-billing"},Object(m.a)("input",{type:"radio",value:"year",id:"yearly-billing",name:"duration-billing",checked:"year"===s,onChange:function(e){return u("month"===e.currentTarget.value?"month":"year")}}),"Yearly billing",Object(m.a)("span",{id:"yearly-billing-quote",className:"billing-quote"},"enterprise"===r?"$119.90 / year (2 months free)":"$49.90 / year (2 months free)")))),Object(m.a)(O.b,{setUser:a,setBanner:n,primary:!0,enterprise:"enterprise"===r,duration:s,user:t,ctaLabel:"Subscribe",checkoutTarget:O.a.USER}))};t.default=function(e){var t=e.location,n=Object(j.a)(t),l=n[0],O=n[1],d=n[2],h=i.a.useState(null),g=h[0],v=h[1];i.a.useEffect((function(){l||O||Object(r.navigate)("/login")}),[O]);var y=function(){return fetch("https://api.kactus.io/v1/accessStripeDashboard",{body:JSON.stringify({githubId:l.githubId,githubToken:l.token}),mode:"cors",method:"POST"}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.message)}))})).then((function(e){var t=e.url;window.location.href=t})).catch((function(e){return v({message:e.message,error:!0})}))};return Object(m.a)(c.a,null,Object(m.a)(o.a,null),Object(m.a)(s.a,null),O?Object(m.a)(u.a,null):l?Object(m.a)(i.a.Fragment,null,Object(m.a)("button",{className:"cta logout",onClick:function(){localStorage.clear(),d(null)}},"Logout"),l.valid&&!l.validFromOrg||l.validEnterprise&&!l.validEnterpriseFromOrg?Object(m.a)("div",{className:"centered-section"},Object(m.a)("h2",null,"You are currently subscribed to the"," ",l.validEnterprise?"Enterprise":"Premium"," plan."),Object(m.a)("div",null,Object(m.a)("br",null),Object(m.a)("button",{className:"cta",onClick:y},"Manage Subscription"),Object(m.a)("br",null),Object(m.a)("button",{className:"cta",onClick:y},"Update Billing Details"),Object(m.a)("br",null),Object(m.a)("button",{className:"cta",onClick:y},"Billing History"))):null,l.orgs&&l.orgs.length?Object(m.a)("div",{className:"centered-section"},Object(m.a)("button",{className:"cta",onClick:function(){return Object(r.navigate)("/org")}},"Manage your organisations")):Object(m.a)("div",{className:"centered-section"},Object(m.a)("button",{className:"cta",onClick:function(){return Object(r.navigate)("/org")}},"Create an organisation")),l.valid||l.validEnterprise?null:Object(m.a)(p,{setUser:d,setBanner:v,user:l})):null,g?Object(m.a)(b.a,Object(a.a)({},g,{onClose:function(){return v(null)}})):null,Object(m.a)("hr",null),Object(m.a)("script",{src:"https://js.stripe.com/v3/"}))}}}]);
//# sourceMappingURL=component---src-pages-account-tsx-0591404331c1432ca83c.js.map