{"version":3,"sources":["webpack:///./src/pages/release-notes.tsx","webpack:///./src/components/loader.tsx"],"names":["tagColor","improved","fixed","new","Index","React","useState","loading","setLoading","notes","setNotes","useEffect","fetch","then","res","json","JSON","parse","window","atob","content","Object","keys","releases","map","k","badge","items","x","parts","split","tag","shift","replace","trim","toLowerCase","note","join","console","log","catch","error","current","className","id","key","n","style","background","Loader"],"mappings":"qHAAA,wGASMA,EAAW,CACfC,SAAU,UACVC,MAAO,UACPC,IAAK,WAgFQC,UA7ED,WAAM,MACYC,IAAMC,UAAS,GAAtCC,EADW,KACFC,EADE,OAEQH,IAAMC,SAK9B,IALKG,EAFW,KAEJC,EAFI,KAyClB,OAhCAL,IAAMM,WAAU,WACdC,MACE,yEAECC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAC,GAAG,OAAIE,KAAKC,MAAMC,OAAOC,KAAKL,EAAIM,aACvCP,MAAK,SAAAC,GACJJ,EACEW,OAAOC,KAAKR,EAAIS,UAAUC,KAAI,SAAAC,GAAC,MAAK,CAClCC,MAAOD,EACPE,MAAOb,EAAIS,SAASE,GAAGD,KAAI,SAACI,GAC1B,IAAMC,EAAQD,EAAEE,MAAM,KAChBC,EAAMF,EACTG,QACAC,QAAQ,IAAK,IACbC,OACAC,cAEH,MAAO,CACLJ,MACAK,KAHWP,EAAMQ,KAAK,KAAKH,OAI3BlC,SAAUA,EAAS+B,IAAQ,mBAKnCvB,GAAW,MAEZK,KAAKyB,QAAQC,KACbC,MAAMF,QAAQG,SAChB,IAGD,YAAC,IAAD,KACE,YAAC,IAAD,MACA,YAAC,IAAD,CAAQC,QAAQ,kBAChB,mBAAKC,UAAU,8BACb,kDACA,uBACA,mBAAKC,GAAG,SACLrC,EACC,YAAC,IAAD,MAEAE,EAAMe,KAAI,SAAAI,GAAC,OACT,uBAASe,UAAU,eAAeE,IAAKjB,EAAEF,OACvC,mBAAKiB,UAAU,wBACb,oBAAMA,UAAU,SAASf,EAAEF,QAE7B,kBAAIiB,UAAU,uBACXf,EAAED,MAAMH,KAAI,SAAAsB,GAAC,OACZ,kBAAID,IAAKC,EAAEV,KAAMO,UAAU,QACzB,mBAAKA,UAAU,QAAQI,MAAO,CAAEC,WAAYF,EAAE9C,WAC3C8C,EAAEf,KAEL,mBAAKY,UAAU,eAAeG,EAAEV,iBAShD,0B,2DCvFN,oCAeea,IAXA,WACb,OACE,mBAAKL,GAAG,WACN,mBAAKD,UAAU,WACb,mBAAKA,UAAU,mBACf,mBAAKA,UAAU","file":"component---src-pages-release-notes-tsx-d8d3f1ec4b064b013f95.js","sourcesContent":["import React from 'react'\n\nimport Layout from '../components/layout'\nimport SEO from '../components/seo'\nimport Header from '../components/header'\nimport Loader from '../components/loader'\n\nimport './release-notes.css'\n\nconst tagColor = {\n  improved: '#0366d6',\n  fixed: '#d73a49',\n  new: '#3EAD3F',\n}\n\nconst Index = () => {\n  const [loading, setLoading] = React.useState(true)\n  const [notes, setNotes] = React.useState<\n    {\n      badge: string\n      items: { tag: string; tagColor: string; note: string }[]\n    }[]\n  >([])\n\n  React.useEffect(() => {\n    fetch(\n      'https://api.github.com/repos/kactus-io/kactus/contents/changelog.json'\n    )\n      .then(res => res.json())\n      .then(res => JSON.parse(window.atob(res.content)))\n      .then(res => {\n        setNotes(\n          Object.keys(res.releases).map(k => ({\n            badge: k,\n            items: res.releases[k].map((x: string) => {\n              const parts = x.split(']')\n              const tag = parts\n                .shift()\n                .replace('[', '')\n                .trim()\n                .toLowerCase()\n              const note = parts.join(']').trim()\n              return {\n                tag,\n                note,\n                tagColor: tagColor[tag] || '#3EAD3F',\n              }\n            }),\n          }))\n        )\n        setLoading(false)\n      })\n      .then(console.log)\n      .catch(console.error)\n  }, [])\n\n  return (\n    <Layout>\n      <SEO />\n      <Header current=\"release-notes\" />\n      <div className=\"container text-center hero\">\n        <h1>Release notes for Kactus</h1>\n        <hr />\n        <div id=\"notes\">\n          {loading ? (\n            <Loader />\n          ) : (\n            notes.map(x => (\n              <section className=\"release-note\" key={x.badge}>\n                <div className=\"release-note__header\">\n                  <span className=\"badge\">{x.badge}</span>\n                </div>\n                <ul className=\"release-note__notes\">\n                  {x.items.map(n => (\n                    <li key={n.note} className=\"note\">\n                      <div className=\"badge\" style={{ background: n.tagColor }}>\n                        {n.tag}\n                      </div>\n                      <div className=\"description\">{n.note}</div>\n                    </li>\n                  ))}\n                </ul>\n              </section>\n            ))\n          )}\n        </div>\n      </div>\n      <hr />\n    </Layout>\n  )\n}\n\nexport default Index\n","import React from 'react'\n\nimport './loader.css'\n\nconst Loader = () => {\n  return (\n    <div id=\"loading\">\n      <div className=\"spinner\">\n        <div className=\"double-bounce1\"></div>\n        <div className=\"double-bounce2\"></div>\n      </div>\n    </div>\n  )\n}\n\nexport default Loader\n"],"sourceRoot":""}