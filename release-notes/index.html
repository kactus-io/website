<title>Kactus - Release Notes</title>
<meta charset="utf-8">
<link href="../style.css" rel="stylesheet" type="text/css">
<link href="./notes.css" rel="stylesheet" type="text/css">
<header class="container text-center">
	<a href="/"><img src="https://avatars0.githubusercontent.com/u/22014617?v=3&u=89e1d1c468b5abb12e2c8a1233bb08f3d3222db9&s=96" alt="Kactus" width="96px" height="96px"/></a>
	<ul class="nav">
		<li><a href="/">Overview</a></li>
		<li><a href="/release-notes" class="current">Release Notes</a></li>
		<li><a href="/help">Help</a></li>
	</ul>
</header>
<div class="container text-center hero">
	<h1>Release notes for Kactus</h1>
	<hr>
	<div id="notes">Loading...</div>
</div>
<hr />
<footer class="container">
  <svg height="20" class="fill-gray" aria-label="code" viewBox="0 0 14 16" width="17" role="img">
    <path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"></path>
  </svg>
  with
  <svg height="20" class="fill-gray" aria-label="love" viewBox="0 0 12 16" version="1.1" width="15" role="img">
    <path fill-rule="evenodd" d="M11.2 3c-.52-.63-1.25-.95-2.2-1-.97 0-1.69.42-2.2 1-.51.58-.78.92-.8 1-.02-.08-.28-.42-.8-1-.52-.58-1.17-1-2.2-1-.95.05-1.69.38-2.2 1-.52.61-.78 1.28-.8 2 0 .52.09 1.52.67 2.67C1.25 8.82 3.01 10.61 6 13c2.98-2.39 4.77-4.17 5.34-5.33C11.91 6.51 12 5.5 12 5c-.02-.72-.28-1.39-.8-2.02V3z"></path>
  </svg>
  by <a href="https://github.com/mathieudutour">Mathieu</a> and <a href="https://github.com/kactus-io/kactus/graphs/contributors">friends</a>
</footer>
<script>
	var tagColor = {
		improved: '#0366d6',
		fixed: '#d73a49',
		new: '#3EAD3F'
	}

	fetch('https://api.github.com/repos/kactus-io/kactus/contents/changelog.json')
		.then(function (res) { return res.json() })
		.then(function (res) { return JSON.parse(window.atob(res.content)) })
		.then(function (res) {
			var html = Object.keys(res.releases).reduce(function (prev, k) {
				prev += '<section class="release-note">'
				prev +=   '<div class="release-note__header"><span class="badge">'
				prev +=     k
				prev +=   '</span></div>'
				prev +=   '<ul class="release-note__notes">'
				prev += res.releases[k].reduce(function (s, n) {
					var parts = n.split(']')
					var tag = parts.shift().replace('[', '').trim().toLowerCase()
					var note = parts.join(']').trim().replace(/#[0-9]+/, '<a href="https://github.com/kactus-io/kactus/issues/$&" class="link" target="_black">$&</a>"')
					s += '<li class="note">'
					s +=   '<div class="badge" style="background: ' + (tagColor[tag] || '#3EAD3F') + '">' + tag + '</div>'
					s +=   '<div class="description">' + note + '</div>'
					s += '</li>'
					return s
				}, '')
				prev +=   '</ul>'
				prev += '</section>'
				return prev
			}, '')
			document.getElementById('notes').innerHTML = html
			return html
		})
		.then(console.log)
		.catch(console.error)
</script>
