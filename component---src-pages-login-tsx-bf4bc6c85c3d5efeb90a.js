(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"0cdV":function(e,t,n){"use strict";n("q1tI"),n("snl+");var r=n("qKvR");t.a=function(e){var t=e.message,n=e.error,o=e.onClose;return n?Object(r.a)("div",{id:"error-banner"},Object(r.a)("div",{id:"error-content"},t||"There was an error..."),Object(r.a)("div",{id:"close-error-banner",onClick:o},"x")):Object(r.a)("div",{id:"success-banner"},Object(r.a)("div",{id:"success-content"},t||"Success!"),Object(r.a)("div",{id:"close-success-banner",onClick:o},"x"))}},"6WSF":function(e,t,n){},"OMj+":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("rePB"),o=n("q1tI"),a=n.n(o),c=n("Wbzz");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){return-1!==t.admins.indexOf(e.githubId)}function l(e,t,n){var r=u(u({},JSON.parse(e)),{},{token:t});if(r.orgs&&r.orgs.length){var o,a=r.orgs;if(n.org)o=a.find((function(e){return e.id===n.org}));else{var c=a.filter(s.bind(this,r));1===c.length?o=c[0]:1===a.length&&(o=a[0])}r.currentOrg=o}return r}function f(e){var t=a.a.useState(null),n=t[0],r=t[1],o=a.a.useState(!0),i=o[0],s=o[1],f=e.search?e.search.slice(1).split("&").reduce((function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e}),{}):{},b=function(e){e?(localStorage.user=JSON.stringify(u(u({},e),{},{token:void 0,currentOrg:void 0})),localStorage.token=e.token):(delete localStorage.user,delete localStorage.token,Object(c.navigate)("/login")),r(e)};return a.a.useEffect((function(){if(localStorage.user&&localStorage.token){var e=l(localStorage.user,localStorage.token,f);b(e),s(!1)}else s(!1)}),[]),[n,i,b,function(e,t,n){var r=l(e,t,n);b(r)}]}},OohN:function(e,t,n){},jRni:function(e,t,n){"use strict";n.r(t);var r=n("wx14"),o=n("q1tI"),a=n.n(o),c=n("Wbzz"),i=n("9Dj+"),u=n("H8eV"),s=n("BNza"),l=n("mtTv"),f=n("0cdV"),b=n("OMj+"),O=(n("oeLg"),n("OohN"),n("qKvR")),d=function(e){var t=e.fromOrg;return Object(O.a)("div",{className:"centered-section"},t?Object(O.a)("div",null,Object(O.a)("p",null,"An organization allows you to centralize the licenses for the designers in your team."),Object(O.a)("p",null,"Both you and the people in your team need to be Kactus users before creating an organization.")):null,Object(O.a)("a",{className:"cta primary",href:"https://github.com/login/oauth/authorize?client_id=524a1e784f4f1885027f"},"Sign up with Github"),Object(O.a)("a",{className:"cta",href:"https://github.com/kactus-io/kactus/releases/latest/download/Kactus-macos.zip"},"Download Kactus for macOS"))};t.default=function(e){var t=e.location,n=Object(b.a)(t),o=n[0],g=n[1],j=(n[2],n[3]),v=a.a.useState(!1),h=v[0],p=v[1],m=a.a.useState(null),S=m[0],w=m[1],y=t.search?t.search.slice(1).split("&").reduce((function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e}),{}):{};return a.a.useEffect((function(){if(o){var e=localStorage.signupFromOrg;return delete localStorage.signupFromOrg,void Object(c.navigate)(e?"/org":"/account")}g||o||!y.code||(p(!0),fetch("https://api.kactus.io/v1/oauth/github/authenticate?code="+y.code+"&state="+y.state).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.message)}))})).then((function(e){j(JSON.stringify(e.user),e.token,y),p(!1)})).catch((function(e){w({message:e.message,error:!0}),p(!1)})))}),[g,h]),Object(O.a)(i.a,null,Object(O.a)(u.a,null),Object(O.a)(s.a,null),g||h?Object(O.a)(l.a,null):o?null:Object(O.a)(d,{fromOrg:localStorage.signupFromOrg}),S?Object(O.a)(f.a,Object(r.a)({},S,{onClose:function(){return w(null)}})):null,Object(O.a)("hr",null))}},mtTv:function(e,t,n){"use strict";n("q1tI"),n("6WSF");var r=n("qKvR");t.a=function(){return Object(r.a)("div",{id:"loading"},Object(r.a)("div",{className:"spinner"},Object(r.a)("div",{className:"double-bounce1"}),Object(r.a)("div",{className:"double-bounce2"})))}},oeLg:function(e,t,n){},"snl+":function(e,t,n){}}]);
//# sourceMappingURL=component---src-pages-login-tsx-bf4bc6c85c3d5efeb90a.js.map